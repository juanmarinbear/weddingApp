<div class="pure-g">
  <div class="pure-u-1-6"></div>
  <div class="pure-u-2-3">
    <form class="pure-form" name="rsvpForm">
      <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-4">
          <label for="first-name">First Name</label>
          <input id="first-name" type="text" name="name" placeholder="First Name" ng-model="data.name" required></input>
        </div>
        <div class="pure-u-1 pure-u-md-1-4">
          <label for="last-name">Last Name</label>
          <input id="last-name" type="text" name="last" placeholder="Last Name" ng-model="data.last" required></input>
        </div>
        <div class="pure-u-1 pure-u-md-1-4">
          <label for="email">Email</label>
          <input id="email" type="email" name="email" placeholder="Email" ng-model="data.email" required></input>
        </div>
        <div class="pure-u-1 pure-u-md-1-4">
          <label for="rsvp">Are you coming to the wedding?</label>
          <select id="rsvp" name="rsvp" ng-model="data.rsvp" required>
            <option value="" selected>-- Select --</option>
            <option value="true">Yes</option>
            <option value="false">No</option>
          </select>
        </div>
      </div>
      <div ng-show="data.rsvp">
        <div class="pure-g">
          <div class="pure-u-1 pure-u-md-1-4">
            <div>
              <label for="country">Country</label>
            </div>
            <select id="country" name="country" ng-model="data.country" ng-options="country.name for country in geo.countries">
              <option value="" selected>-- Select --</option>
            </select>
          </div>
          <div class="pure-u-1 pure-u-md-1-4" ng-hide="data.country.code === 'MX' || data.country.code === 'US'">
            <label for="state">State</label>
            <input id="state" type="text" name="state" placeholder="State" ng-model="data.state"></input>
          </div>
          <div class="pure-u-1 pure-u-md-1-4" ng-show="data.country.code === 'MX' || data.country.code === 'US'">
            <div>
              <label for="state">State</label>
            </div>
            <select id="state" name="state" ng-model="data.state" ng-options="state.name for state in geo[data.country.code]">
              <option value="" selected>-- Select --</option>
            </select>
          </div>
          <div class="pure-u-1 pure-u-md-1-4">
            <label for="city">City</label>
            <input id="city" type="text" name="city" placeholder="City" ng-model="data.city"></input>
          </div>
          <div class="pure-u-1 pure-u-md-1-4">
            <label for="zip">Zip Code</label>
            <input id="zip" type="text" name="zip" placeholder="Zip Code" ng-model="data.zip"></input>
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-1 pure-u-md-1-4">
            <label for="street">Street</label>
            <input id="street" type="text" name="street" placeholder="Street" ng-model="data.street"></input>
          </div>
          <div class="pure-u-1 pure-u-md-1-4">
            <label for="number">Number</label>
            <input id="number" type="text" name="number" placeholder="Number" ng-model="data.number"></input>
          </div>
          <div class="pure-u-1 pure-u-md-1-4">
            <label for="apt">Apt / Suite</label>
            <input id="apt" type="text" name="apt" placeholder="Apt / Suite" ng-model="data.apt"></input>
          </div>
          <div class="pure-u-1 pure-u-md-1-4">
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-1 pure-u-md-1-4">
            <div>
              <label for="guest">Bringing a guest?</label>
            </div>
            <select id="guest" name="guest" ng-model="data.guest">
              <option value="" selected>-- Select --</option>
              <option value="true">Yes</option>
              <option value="false">No</option>
            </select>
          </div>
          <div class="pure-u-md-3-4">
          </div>
        </div>
        <div ng-show="data.guest">
          <div class="pure-g">
            <div class="pure-u-1 pure-u-md-1-4">
              <label for="guest-name">First Name</label>
              <input id="guest-name" type="text" name="guest-name" placeholder="First Name" ng-model="data.guestName"></input>
            </div>
            <div class="pure-u-1 pure-u-md-1-4">
              <label for="guest-last">Last Name</label>
              <input id="guest-last" type="text" name="guest-last" placeholder="Last Name" ng-model="data.guestLast"></input>
            </div>
            <div class="pure-u-1 pure-u-md-1-4">
              <label for="guest-email">Email</label>
              <input id="guest-email" type="email" name="guest-email" placeholder="Email" ng-model="data.guestEmail"></input>
            </div>
            <div class="pure-u-1 pure-u-md-1-4">
            </div>
          </div>
        </div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1">
          <p>
            <button type="submit" class="pure-button pure-button-primary" ng-click="submit()">Submit</button>
          </p>
        </div>
      </div>
      <div class="pure-g" ng-show=" (submitted && rsvpForm.$invalid) || hasError">
        <div class="pure-u-1">
          <ul>
            <li ng-show="rsvpForm.name.$error.required">Name is required.</li>
            <li ng-show="rsvpForm.last.$error.required">Last Name is required.</li>
            <li ng-show="rsvpForm.email.$error.required">Email is required.</li>
            <li ng-show="rsvpForm.email.$error.email">Email isn't valid.</li>
            <li ng-show="hasError">{{ error.message }}</li>
          </ul>
        </div>
      </div>
    </form>
    {{ data | json}}
  </div>
  <div class="pure-u-1-6"></div>
</div>
